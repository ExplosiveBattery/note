https://www.kuaizhan.com/ 建站网站   https://scustv.kuaizhan.com

装VNC或者其他方式安装基于Linux系统的桌面环境。可以切换机房，进而更换IP，目前有洛杉矶、凤凰城、佛罗里达、荷兰，弗里蒙特的机房，洛杉矶和凤凰城速度是不错的，尤其是白天速度比较好，晚上由于国际出口问题，不仅仅是搬瓦工，其他服务商也一样速度不是很稳定。IP似乎是要钱的，使用共享IP可以省钱，可以申请要多个独立IP，但是贵。每个月的流量超级多，所以有的人就搭shadowsocks和openvpn。不过据说搬瓦工超售严重。所以有人说他不适合建站而适合搭梯子。
	http://banwagong.cn/
	2.并不是所有的远程主机都可以搭梯子。
	3.linode也是个VPS提供商。Linode的CPU就共享CPU，Linode的带宽也是共享的
	4.系统可以进行精简：移除掉一些多余的软件，删除掉一些组件
	  最后apt-get autoremove && apt-get clean清理掉缓存文件
	5.先当作加了弹性变化的vps吧
	6.虚拟主机也叫虚拟空间，都是服务器上硬盘划一部分给你使用，用来做网站，就等于在服务器里建立个文件让你使用。但是会有限制。看来带宽，CPU都是共享的。
	  VPS（Virtual Private Server 虚拟专用服务器），就是把一台服务器虚拟成多台相互隔离的虚拟服务器。
	  云服务器（Cloud Virtual Machine），把服务器集群看成是云，对外透明，向用户提供的是接口。
	7.Paas、Saas比laas更高级，提供了服务功能上的共享，比如说万象优图。


腾讯云：
国内只有上海那边机房对国外路线比较优。不同地域的云产品内网不通，购买后不能更换
重装系统，从linux换windows得提交工单
Linux服务器安全狗
拥有一个GWT(Google Webmaster Tools)的账户是非常的重要，因为它可以帮助搜索引擎来录取你的网页，让你的网站可以更容易地被找到

系统选择：
CentOs yum 历史遗留问题使得国内基本上都是这个系统
debian apt
ubuntu运行时间太长不管理，系统会出点小问题
选择CentOs稳定
服务器的操作系统不同，管理员帐号也会不一样，如下所示：
SUSE/CentOS/Debian：root
Windows：Administrator
ubuntu：ubuntu

登录验证：
密码：自己设定或者安装后自动生成会在购买记录里面告知密码
SSH密钥对：首次使用只需在云管理页面一键配置，再对客户端做简单配置即可，以后登录时无需再输入密码。一台服务器支持多个公钥，有人员离职时，只需要将其负责服务器上的公钥统一删除即可，避免离职人员带来的安全风险。
1) 创建密钥
2) 密钥关联服务器
3) 修改密钥
4) 删除密钥
请确保云主机22端口已开放，详见查看安全组及网络ACL
https://www.qcloud.com/document/product/213/2036

安全组设立：就是一种防火墙
下面说的都是默认端口，尝试更改
MSTSC 微软远程桌面登录 3389
phpmyadmin 3306
ssh 22
http 80
出站规则就是指服务器主动出去的行为，比如说你使用wget下载什么那就需要80、443端口，之后记得关了。

域名云解析设置：
域名有网站解析，也有邮箱解析。
邮箱解析：把域名指向您的邮箱，让域名作为您的邮箱后缀。例如，当有人发邮件给“vincen@example.com”时，系统将对“example.com”进行DNS中的MX记录解析。如果MX记录存在，系统就根据MX记录的优先级，将邮件转发到与该MX相应的邮件服务器上。
新增解析完成设置即时生效。修改解析则需要0~48小时

要解析www.qcloud.com，请填写www。
主机记录就是域名前缀，常见用法有：
www： 解析后的域名为www.qcloud.com。
@： 直接解析主域名 qcloud.com。
*： 泛解析，匹配其他所有域名 *.qcloud.com。
mail： 将域名解析为mail.qcloud.com，通常用于解析邮箱服务器。
二级域名： 如：abc.qcloud.com，填写abc。
手机网站： 如：m.qcloud.com，填写m。

几个域名提供商：
万网  Ali Cloud
DNSPOD Tecent Cloud
35互联
新网
易名中国
名富网
中资源
GoDadddy





腾信企业邮箱：
注册首先你要有个自己的域名，最后要按照它的要求在域名里面设置两条到腾讯企业邮箱域名的MX解析记录：mxbiz1.qq.com.和mxbiz2.qq.com.。
在qq邮箱中“添加其他邮箱账号”来收取邮件：POP3默认端口110，不过明显需要ssl，所以端口应该是995。

按流量计费的网络费用仅取决于单台云服务器的出流量，与云服务器模式（包年包月或按量计费）无关。可对机器设置带宽上限，云服务器瞬时网络速度超过此带宽上限时将丢包。
大陆、新加坡	0.80元/GB
香港	1.00元/GB
北美	0.50元/GB

开启CDN加速，CDN是按照流量计费
用户在浏览网站的时候，CDN会选择一个离用户最近的CDN边缘节点来响应用户的请求，这样海南移动用户的请求就不会千里迢迢跑到北京电信机房的服务器（假设源站部署在北京电信机房）上了。cdn连接的就是提供给你的cdn别名与你自己构建的时候使用的ip或者域名之间的关系，所以在“dns解析”里面只需要添加上CNAME记录就好了。不过你添加的记录要和CDN构建时候使用的域名是一样的，估计是因为它会有个检查，否则就是无效的配置。
CDN的优势很明显：（1）CDN节点解决了跨运营商和跨地域访问的问题，访问延时大大降低；（2）大部分请求在CDN边缘节点完成，CDN起到了分流作用，减轻了源站的负载。
域名配置完成后，系统会为您分配对应的CDN域名，以 .cdn.dnsv1.com 为后缀，您需要到接入域名的DNS服务商处完成CNAME配置，将域名CAME到CDN域名，配置方法请点击CNAME配置说明 。验证域名是否已经CNAME成功：不同的DNS服务商，CNAME生效的时间略有不同，一般会在半个小时之内生效。您也可以通过PING的方式来查询CNAME是否生效，如果PING到后缀为cdntip.com或后缀为tcdn.qq.com表示域名CNAME已生效。
开启CDN以后，实际上从DNS获取到的IP一般就不会使你真实的主机了，所以ping你的网站也是ping通的，我还奇怪了一会安全组明明是设置了的。。。。由于你的网站会被备份，估计在第一次访问的时候就会被记录，然后GG害的我以为配置失败，然而只是延时。所以可以直接访问ip呀！

使用ping或者nslookup来检查：
C:\Users\Battery>ping hellovega.cn
正在 Ping 212.sp.spcdntip.com [58.216.107.101] 具有 32 字节的数据:
来自 58.216.107.101 的回复: 字节=32 时间=146ms TTL=45
来自 58.216.107.101 的回复: 字节=32 时间=148ms TTL=45
如果使用浏览器的话还要考虑到缓存问题

项目是一个虚拟概念，用户可通过项目管理不同资源。一个账户支持创建多个项目。系统会自动为用户创建“默认项目”
云对象存储：
	Bucket 是用户存储在项目下的第一级目录 （类似Windows中的C盘、D盘）。每个Bucket拥有独立的访问域名和设置
	Object，我上传的各类型文件都称作一个 Object
	公有读私有写: 可对object进行匿名读操作, 写操作需要进行身份验证。 
	私有读写: 需要进行身份验证后才能对object进行访问操作。
	设置了一个Bucket叫做birth，上传文件以后会提供：
birth-1252111212.cosgz.myqcloud.com  (适用于JSON API)
birth-1252111212.cn-south.myqcloud.com  (适用于XML API)
访问birth-1252111212.cosgz.myqcloud.com/文件名字 就下载文件了，但是xml那个似乎不能正常使用。我上传了一个html文件，网址后缀就变成了thtml，打开以后开启下载得到我上传的html文件。
	配置防盗链、自定义域名等属性。然后就可以在您的网站/应用的代码中替换掉相关资源的URL
	自带使用数据统计。
	通过这个我可以提供下载连接诶。。。10GB流量。每一个文件都可以自己设定对响应返回的header，支持通过黑白名单进行防盗链设置。如果自己做的话是要在服务器配置文件上动手脚的。
什么是COS？
（1）全称为Cloud Object Service，是腾讯云平台提供的对象存储服务。
（2）COS为开发者提供安全、稳定、高效、实惠的对象存储服务，开发者可以将任意动态、静态生成的数据，存放到COS上，再通过HTTP的方式进行访问。
（3）COS的文件访问接口提供全国范围内的动态加速，使开发者无需关注网络不同所带来的体验问题。
就是用来放东西然后下载到客户端，这个下载可以是配合网站页面访问的。
	


云拨测：根据多个节点测试可用率。可以拨测我有的网页就是显示301。

如果将网络带宽换为按流量计费：
您好,切换后按流量计费不支持切回包月带宽.在切换时已经有提醒的噢.
学生优惠的是满64可用，当你改成按流量付费（配置为1核1G内存情况下），那么每月的费用是45，是不足够达到满64条件，所以是不能使用的。（注意，如果你这个月已经是使用学生优惠购买了一台服务器，并自己修改成按流量计费，那么下个月你就会发现续费变成45，无法使用学生优惠抵扣，因为主机费用为45，无法达到满64的费用，所以学生优惠将是无法使用的状态，希望你清楚）
升级配置至少为1核2G内存

制作无主机的镜像腾讯云需要在云主机关机，在更多操作-》制作镜像，大致需要10分钟时间

为了防止数据丢失，云服务器磁盘只可扩容不可缩。云硬盘买了只能作为数据盘，似乎只能用于数据的快照备份？

您好，如果你不能升级配置，只能升级带宽的话，可能购买的主机的硬盘是本地硬盘的，由于本地硬盘是无法升级配置的。
简单的解决方法，可以将现在在用的这台主机的系统，制作一个镜像，然后再新购买一台的主机，请务必记住选择云硬盘的主机。

腾讯云在账号头像点击-》续费管理中可以选择到期不续费，然后就会自动到期回收
	8.阿里云：js,css 尽量使用 cnd 图片尽量压缩压缩，流量勉强够用
	9.服务器可能共享IP
	10.CNAME：
   使用别名记录，对于多网站、多域名的人来说，是一个非常方便的管理方法！特别是对租用虚拟主机的用户，更是简单。做一个别名记录后，就不用再去管服务器的ＩＰ怎么变了！
一.使用域名的别名记录(CNAME)，让多域名管理轻松到极点!
　　别名记录(CNAME)：也被称为规范名字。这种记录允许您将多个名字映射到同一台计算机。 通常用于同时提供WWW和MAIL服务的计算机。例如，有一台计算机名为“host.mydomain.com”(A记录)。 它同时提供WWW和MAIL服务，为了便于用户访问服务。可以为该计算机设置两个别名(CNAME)：WWW和MAIL。 这两个别名的全称就是“www.mydomain.com”和“mail.mydomain.com”。实际上他们都指向“host.mydomain.com”。 同样的方法可以用于当您拥有多个域名需要指向同一服务器IP，此时您就可以将一个域名做A记录指向服务器IP然后将其他的域名做别名到之前做A记录的域名上，那么当您的服务器IP地址变更时您就可以不必麻烦的一个一个域名更改指向了 只需要更改做A记录的那个域名其他做别名的那些域名的指向也将自动更改到新的IP地址上了。如果你是租用虚拟主机的话，一般的服务商都会提供一个三级或者四级的域名给你，那个地址解析的ＩＰ永远是服务器的最新ＩＰ，所以，大家如果是租用虚拟主机的，就直接做别名记录指向到那个赠送的域名就可以了！
　　二.使用域名的别名记录(CNAME)，让你的域名解析不再蜗牛。
　　众所周知，国内很多域名注册机构的DNS服务器解析生效速度很慢，这便给很多人带来了麻烦，当网站需要更换IP或其他必须对域名重新解析的时候，如果存在大量网站，第一麻烦就是多域名的解析问题，我们可以通过第一条技巧轻松解决!但对于生效速度，通过普通的解析估计我们就无法解决了!
　　其实，我们可以通过使用域名的别名(CNAME)另类使用达到加速解析的目的。首先我们最好选择一个主域名如：qqya.com，将该域名转移到国外(推荐：ENom)注册商平台下，解析速度与国内的注册商可不是一个两个等级的差别了，然后将其他的相关域名使用CNME记录：(www.abc.com.)切记最后有一英文状态下的“句号”!
　　OK!以后当需要更换域名解析的时候，只需要变动abc.com，立即解决了所有问题，因为你其他的域名都已经跟随你的abc.com域名了，只要你解析了abc.com，其他也都相应变化，不再担心国内解析慢的问题了!

接入 CDN， 只需要接入给你分配的域名 。使用 CNAME (将域名指向另一个域名（例如www.qcloud.com）)

	11.我的background.jpg加载的时候是从上到下一点点显示下来，
涉及到这么几点：
服务器出口带宽
图片在传输中编码后大小
客户端接受带宽

480KB的jpg编码后用校园网来接受能不卡么，所以压缩为68KB，试了下转为gif，增大为132KB。
考虑到自己的主要用户是用校园网，所以68KB就可以了，本来想压缩到3-40KB但是发现整体压缩的话效果模糊的很快。

我使用图片来当背景，而那些绚丽的背景是一点点图片加上代码，所以还很快。
对于图片还可以这么做，图片的每一部分带给人们的清洗后曾都市不一样的，遭到比重高的必要的一部分进行分割、不必要部分压缩然后拼接。还可以自己加一点纯ps的清晰字体来增加总体清晰值。

	12.
公网IP是与您的云主机关联，弹性公网IP是与您的qcloud账户关联，可以随时申请和释放
	13.服务器在国内的域名是需要备案的。时间为期20天，且不支持国际域名（例如我购买的.date的后缀）
	14.腾讯云伸缩组是遵循相同规则、面向同一场景的云服务器实例的集合。伸缩组定义了组内 CVM 实例数的最大值、最小值及其相关联的负载均衡实例等属性。
	15.腾讯云CDN：
接入CDN要求域名已经备案
三种加速模式：静态（图片等），下载，流媒体
腾讯云CDN支持开启URL过滤参数
最后要配置的就是缓存过期时间。可以按照文件夹（路径），或者文件类型等来设置。不过默认这个是关闭的。

暂定掉原有A记录，然后作为www类型主机记录（解析为www.xxx.com），域名填分配获得的cdn记录值
	16.Freenum可以提供免费域名：
一般来说，Freenom自带的DNS管理系统不怎么适应国内的网络访问需求，所以我们都喜欢用第三方的免费DNS来管理Freenom域名的DNS。
比如如果想要使用DNSPOD的话，我们先要到DNSPOD中添加.gq域名。
https://sg.godaddy.com/zh/ 是一个买域名的地方。
米特网：me.tl，https://www.mite5.com/
免费空间：http://free.3v.do/
	经过我了解发现还有那种免费二级域名。
	可以使用Fastly的免费CND，Github也是使用这家的CDN。
	17.
no-ip动态域名提供商，可以注册一个免费试用30天的DDNS。花生壳是国内动态域名解析软件。DDNS我见过大多数是和路由器绑定。（支持 NAT 的 DDNS 服务没找到有开源的，找到的支持 NAT 的基本不开源）
3322动态域名身为最早的动态域名服务提供商pubyun ftp张老师
freenom 域名解析商，提供api来控制dns解析，可以借此写脚本来做到ddns。
	18.ISDC的镜像服务器由七牛云储存赞助
	19.专用宿主机CDH的配置都很恐怖啊：
CPU主频	CPU	内存	硬盘容量
3.20GHz	32核	120G	1100G
2.4GHz	56核	492G	2552G
	20.为了保证快照能完整的捕获磁盘数据内容，建议制作快照前，进行以下操作： 
数据库业务：Flush & Lock Table 
文件系统：Sync 操作，将内存数据强制刷入磁盘内
	21.防止别人将域名解析到你的独立IP，那就需要在服务器上进行域名设定设置。目前国家在这方面还没有法规规定。
	22.Lambda是一种计算服务，它在AWS基础设施上执行用用JavaScript（node.js）、Python或Java编写的代码。源代码部署到孤立的容器上，该容器有单独分配的内存、磁盘空间和处理器。代码、配置和依赖项这一组合通常被称为Lambda函数。Lambda运行时环境可以并行多次调用某个函数。Lambda支持推拉事件操作模式，并与数量众多的AWS服务整合起来。函数可以通过API网关由HTTP请求来调用，也可以按时间表来运行。请注意：Lambda并不是市面上唯一的计算服务。微软Azure函数（Microsoft Azure Functions）、IBM Bluemix OpenWhisk和谷歌云函数（Google Cloud Functions）是你可能应该关注的其他计算服务。
Serverless 架构：用服务代替服务器。卖的时候就按照运行时间或者请求次数来卖。

2014年11月14日，亚马逊AWS发布了新产品Lambda。当时Lambda被描述为：一种计算服务，根据时间运行用户的代码，无需关心底层的计算资源。从某种意义上来说，Lambda姗姗来迟，它更像S3，更像云计算的PaaS理念：客户只管业务，无需担心存储和计算资源。2014年10月22日，谷歌今天收购了实时后端数据库创业公司Firebase。Firebase声称开发者只需引用一个API库文件就可以使用标准REST API的各种接口对数据进行读写操作，只需编写 HTML＋CSS＋JavaScrip前端代码，不需要服务器端代码（如需整合，也极其简单），这种设计真的是很厉害，不过估计要求前端的设计按照一定的套路来。用户不需要关心基础设施，只需要关心业务。


Serverless是最新兴起的架构模式，中文意思是“无服务器”架构。目前，业界并没有给出明确的定义，把其分成两种类型，分别为“Backend as a Service” 和 “Functions as a Service”。
“Backend as a Service”即BaaS，是一种新型的云服务，旨在为移动和Web应用提供后端云服务，实现对逻辑和状态进行管理，包括云端数据/文件存储（例如Parse、Firebase）、消息推送（例如极光推送、个推）、应用数据分析等等。 可以说BaaS是诞生于移动互联网，为了加速移动应用开发和降低成本而形成的开发架构。BaaS可以带来后端能力的服务化，服务化也为后端能力优化管理带来了可能，这些能力通过服务开发者而诞生，重复的建设和规划会在初期就得到避免。开发者通过使用这些服务，实现自己的业务功能的同时，也会对服务的能力进一步提出要求，促进后端服务的发展。BaaS是在PaaS和SaaS之间，为了满足移动互联网快速发展的需要，将后端的能力以服务形式提供，是在PaaS平台开发能力的基础上，用SaaS的思路，将后端能力服务化，让开发者在此基础上开发自己的Software解决方案。
“Functions as a Service”即FaaS，指这样的应用，一部分服务逻辑由应用实现，但是跟传统架构不同在于，他们运行于无状态的容器中，可以由事件触发，短暂的，完全被第三方管理，功能上FaaS就是不需要关心后台服务器或者应用服务，只需关心自己的代码即可。其中AWS Lambda是目前最佳的FaaS实现之一。


Serverless与传统架构比较
传统的互联网APP主要采用C/S架构，服务器端需长期维持业务进程来处理客户端请求，并调用代码逻辑完成请求响应流程。而在Serverless架构中，应用业务逻辑将基于FAAS架构形成独立为多个相互独立功能组件，并以API服务的形式向外提供服务；同时，不同功能组件间的逻辑组织代码将存储在Amazon Lambda，Azure Function，Google Cloud Functions等产品上，业务代码仅在调用时才激活运行，当响应结束占用资源便会释放。

在业务突发性极高的场景下，系统为了应对业务高峰，必须构建能够应对峰值需求的系统，这个系统在大部分时间是空闲的，这就导致了严重的资源浪费和成本上升。还有大公司大量计算资源的留存，比如腾讯在国内，google在国外。

这一点在现在互联网创业公司得到很好的体现，创业公司往往开始由于人员与资金等问题，不可能每个产品线都同时进行，这时候就可以考虑第三方的Baas平台，比如使用阿里云提供的RDS，极光推送的消息推送，Bmob支付以及地理位置等等，能够很快进行产品开发的速度，把工作重点放在业务实现上，把产品更快的推向市场。



Serverless架构的缺点
厂商平台绑定：
平台会提供Serverless架构给大玩家，比如AWS Lambda，运行它需要使用AWS指定的服务，比如API网关，DynamoDB，S3等等，一旦你在这些服务上开发一个复杂系统，你会粘牢AWS，以后只好任由他们涨价定价或者下架等操作，个性化需求很难满足，不能进行随意的迁移或者迁移的成本比较大，同时不可避免带来一些损失。Baas行业内一个比较典型的事件，2016年1月19日Facebook关闭曾经花巨额资金收购的Parse，造成用户不得不迁移在这个平台中产生一年多的数据，无疑需要花费比较大的人力和时间成本。
成功案例比较少，没有行业标准：
目前的情况也只适合简单的应用开发，缺乏大型成功案例的推动。对于Serverless缺乏统一的认知以及相应的标准，无法适应所有的云平台。

优点：
移动互联网应用经常会面对突发流量场景，例如：移动应用的通常流量情况是QPS 20，但每隔五分钟会有一个持续10s的QPS 200流量（10倍于通常流量），传统架构下企业必须扩展QPS 200的硬件能力来应对业务高峰，即使高峰时间仅占整个运行时间的4%；而在Serverless架构下，用户可以利用弹性扩展特性，快速构建新的计算能力来满足当前需求，当业务高峰后，资源能够自动释放，有效节省成本。
还有快速卡开发，一般都是后端提供了不少的接口，你只需要照顾好前端就好，前端也倒是有模板。

对于Serverless的理解，Adrian Cockcroft曾经这样说过“如果你的PaaS可以将以前半秒启动的应用在20ms内启动，就叫它Serverless”，换句话说，许多PaaS应用不会每次请求来了启动，请求结束则关闭，可以认为FaaS是一种特殊化的PaaS。


	23.Nginx+Lua(OpenResty)开发高性能Web应用
	lets encrypt 免费证书颁发机构
	25.Google Analytics提供网站统计服务
	26.阿里云、又拍云提供静态文件云存储服务
	27.Network Solutions、Godaddy。com 提供域名保护服务
	28.CDN会导致不能访问8080端口，因为你已经在用这个域名的80端口了。
	29.二级域名绑定8080端口：靠Apache、Nginx服务器进行代理。
	30.https申请：
		阿里云有免费的https服务
		在架设https站点时候，需要独立申请ssl证书CRT证书文件，要得到CRT证书，我们一般需要在证书申请网站上面提交一个CSR证书申请 请求文件，一般都用openssl来生成，命令繁多。本周提供在线生成证书申请请求文件CSR文件生成,请把生成好的CSR文件和KEY文件下载到电脑妥善保存,CSR和KEY文件随机生成：http://web.chacuo.net/netsslcsr  填的内容与Android的证书很像。
		网站常见的SSL证书有DV证书，也叫Domain Validation(域名证书，针对域名进行授权)，还有DV证书，又叫Organization Validation(公司证书，针对域名公司授权)，还有一种最高级证书是EV(Extended Validation)，申请时候需要填写东西很多，验证时间较长，采用EV证书站点，再地址栏会显示公司全称！
	31.网站短地址生成工具：http://dwz.chacuo.net/weibo